{% extends 'tournament/index.html' %}
{% load bracket_extras %}

{% block extra_head %}
{% load static %}
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Holtwood+One+SC" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Kaushan+Script|Herr+Von+Muellerhoff" rel="stylesheet"
  type="text/css">
<link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Istok+Web|Roboto+Condensed:700" rel="stylesheet" type="text/css">
<link href="{% static 'bracket.css' %}" rel="stylesheet">
{% endblock %}
{% block content %}
<header class="hero">
  <div class="hero-wrap">
   <p class="intro" id="intro">wsb</p>
   <h1 id="headline">Tournament</h1>
   <p class="year"><i class="fa fa-star"></i> 2022 <i class="fa fa-star"></i></p>
   <p>Coding Out of Control</p>
 </div>
</header>

<title>{{tourname.name}}</title>
<section id="bracket">
  <div class="container">
    <div class="split split-one">
      <div class="round round-one current">
        <div class="round-details">Round 1<br /><span class="date">{{tournament.start_date}}</span></div>
          {% for duel in duels %}
            {% if duel.round == 1 %}
              <ul class="matchup">
                {% if duel.winner.id == duel.player1.id %}
                  <li value="{{duel.player1.id}}" class="team winner team-top">{{duel.player1.username}}<span class="score"></span></li>
                  <li value="{{duel.player2.id}}" class="team loser team-bottom">{{duel.player2.username}}<span class="score"></span></li>
                {% elif duel.winner.id == duel.player2.id %}
                  <li value="{{duel.player1.id}}" class="team loser team-top">{{duel.player1.username}}<span class="score"></span></li>
                  <li value="{{duel.player2.id}}" class="team winner team-bottom">{{duel.player2.username}}<span
                      class="score"></span></li>
                {% else %}
                  <li value="{{duel.player1.id}}" class="team team-top"><a
                      href="{{duel.id}}/{{duel.player1.id}}/set_winner">{{duel.player1.username}}</a><span class="score"></span></li>
                  <li value="{{duel.player2.id}}" class="team team-bottom"><a
                      href="{{duel.id}}/{{duel.player2.id}}/set_winner">{{duel.player2.username}}</a><span class="score"></span>
                {% endif %}
              </ul>
            {% endif %}
          {% endfor %}
        </div>
        <div class="round round-two current">
          <div class="round-details">Round 2<br/><span class="date">{{tournament.start_date}}</span></div>     
          {% for duel in duels %}
            {% if duel.round == 2 %}
              <ul class="matchup">
                {% if duel.winner.id == duel.player1.id %}
                  <li value="{{duel.player1.id}}" class="team winner team-top">{{duel.player1.username}}<span class="score"></span></li>
                  <li value="{{duel.player2.id}}" class="team loser team-bottom">{{duel.player2.username}}<span class="score"></span>
                  </li>
                {% elif duel.winner.id == duel.player2.id %}
                  <li value="{{duel.player1.id}}" class="team loser team-top">{{duel.player1.username}}<span class="score"></span></li>
                  <li value="{{duel.player2.id}}" class="team winner team-bottom">{{duel.player2.username}}<span class="score"></span></li>
                {% else %}
                  <li value="{{duel.player1.id}}" class="team team-top"><a
                      href="{{duel.id}}/{{duel.player1.id}}/set_winner">{{duel.player1.username}}</a><span class="score"></span>
                  </li>
                  <li value="{{duel.player2.id}}" class="team team-bottom"><a
                      href="{{duel.id}}/{{duel.player2.id}}/set_winner">{{duel.player2.username}}</a><span class="score"></span>
                {% endif %}
              </ul>
            {% endif %}
          {% endfor %}                   
        </div>
        {% if tournament.rounds >= 3 %} 
          <div class="round round-three current">
            <div class="round-details">Round 3<br/><span class="date">{{tournament.start_date}}</span></div>     
            {% for duel in duels %}
              {% if duel.round == 3 %}
                <ul class="matchup">
                  {% if duel.winner.id == duel.player1.id %}
                    <li value="{{duel.player1.id}}" class="team winner team-top">{{duel.player1.username}}<span class="score"></span>
                    </li>
                    <li value="{{duel.player2.id}}" class="team loser team-bottom">{{duel.player2.username}}<span class="score"></span>
                    </li>
                  {% elif duel.winner.id == duel.player2.id %}
                    <li value="{{duel.player1.id}}" class="team loser team-top">{{duel.player1.username}}<span class="score"></span>
                    </li>
                    <li value="{{duel.player2.id}}" class="team winner team-bottom">{{duel.player2.username}}<span
                        class="score"></span>
                    </li>
                  {% else %}
                    <li value="{{duel.player1.id}}" class="team team-top"><a
                        href="{{duel.id}}/{{duel.player1.id}}/set_winner">{{duel.player1.username}}</a><span class="score"></span>
                    </li>
                    <li value="{{duel.player2.id}}" class="team team-bottom"><a
                        href="{{duel.id}}/{{duel.player2.id}}/set_winner">{{duel.player2.username}}</a><span class="score"></span>
                  {% endif %}
                </ul>
              {% endif %}
            {% endfor %}                   
          </div>
        {% endif %}
        {% if tournament.rounds >= 4 %} 
          <div class="round round-four current">
            <div class="round-details">Round 4<br/><span class="date">{{tournament.start_date}}</span></div>     
            {% for duel in duels %}
              {% if duel.round == 4 %}
                <ul class="matchup">
                  {% if duel.winner.id == duel.player1.id %}
                    <li value="{{duel.player1.id}}" class="team winner team-top">{{duel.player1.username}}<span class="score"></span>
                    </li>
                    <li value="{{duel.player2.id}}" class="team loser team-bottom">{{duel.player2.username}}<span class="score"></span>
                    </li>
                  {% elif duel.winner.id == duel.player2.id %}
                    <li value="{{duel.player1.id}}" class="team loser team-top">{{duel.player1.username}}<span class="score"></span>
                    </li>
                    <li value="{{duel.player2.id}}" class="team winner team-bottom">{{duel.player2.username}}<span
                        class="score"></span>
                    </li>
                  {% else %}
                    <li value="{{duel.player1.id}}" class="team team-top"><a
                        href="{{duel.id}}/{{duel.player1.id}}/set_winner">{{duel.player1.username}}</a><span class="score"></span>
                    </li>
                    <li value="{{duel.player2.id}}" class="team team-bottom"><a
                        href="{{duel.id}}/{{duel.player2.id}}/set_winner">{{duel.player2.username}}</a><span class="score"></span>
                  {% endif %}
                </ul>
              {% endif %}
            {% endfor %}                   
          </div>
        {% endif %}  
    </div>  
  </div>
</section>
<section class="share">
  <div class="share-wrap">
    <a class="share-icon" href="https://github.com/Skylighty"><i class="fa fa-github"></i></a>
  </div>
</section>
{% endblock %}